(function () {
    const translations = {
        en: {
            "meta.description": "SwingPuzzles - 1-minute daily fact and jigsaw puzzle. First a short surprising fact, then a tiny jigsaw puzzle to solve. A quick refresh for your day.",
            "title.main": "SwingPuzzles - Daily 1-Minute Jigsaw Puzzle",
            "hero.mascotAlt": "SwingPuzzles mascot",
            "hero.heading": "1-minute daily fact and jigsaw puzzle",
            "hero.subheading": "First a short surprising fact, then a tiny jigsaw puzzle to solve. A quick refresh for your day.",
            "hero.primaryCta": "Get today's fact & jigsaw puzzle",
            "hero.note": "Free. No spam. Unsubscribe anytime.",
            "form.heading": "Get your first fact & jigsaw puzzle today",
            "form.name.label": "First name (optional)",
            "form.name.placeholder": "Optional, for a more personal email",
            "form.email.label": "Email address *",
            "form.email.placeholder": "your@email.com",
            "form.submitCta": "Send me today's fact & jigsaw puzzle",
            "form.gdprNote": "After confirming your email, you'll start receiving daily or weekly emails with facts and jigsaw puzzles from SwingPuzzles. You can unsubscribe at any time.",
            "video.heading": "See how it works in 30 seconds",
            "video.fallback": "Your browser does not support the video tag.",
            "video.caption": "This is an example: first a fun fact on screen, then a tiny jigsaw puzzle to solve.",
            "video.cta": "Get today's fact & jigsaw puzzle",
            "steps.heading": "How it works",
            "steps.1.title": "We email you a short surprising fact",
            "steps.1.body": "Receive a fresh fact in your inbox to spark your curiosity and start your day with something interesting.",
            "steps.2.title": "You solve a tiny jigsaw puzzle related to the fact",
            "steps.2.body": "Engage with a quick jigsaw puzzle that connects to the fact you just learned, making it memorable and fun.",
            "steps.3.title": "You get a quick 1-minute mental reset",
            "steps.3.body": "Switch your mind from stress to play with a satisfying brain break that leaves you refreshed.",
            "benefits.heading": "Why people like it",
            "benefits.1.title": "Takes about a minute a day",
            "benefits.1.body": "A quick daily habit that fits perfectly into your morning routine or coffee break.",
            "benefits.2.title": "Helps you switch your mind from stress to play",
            "benefits.2.body": "A gentle mental shift that helps you break away from worries and engage with something fun.",
            "benefits.3.title": "Family-friendly and screen-friendly",
            "benefits.3.body": "Safe, positive content that anyone can enjoy without worry. Perfect for all ages.",
            "finalCta.heading": "Ready for your next 1-minute break?",
            "finalCta.primaryCta": "Get today's fact & jigsaw puzzle",
            "footer.brand": "SwingPuzzles",
            "footer.tagline": "Daily facts and jigsaw puzzles for everyone",
            "footer.privacy": "Privacy Policy",
            "footer.contact": "Contact",
            "footer.copyright": "© SwingPuzzles",
            "success.meta.description": "Thank you for subscribing to SwingPuzzles!",
            "success.title": "Thank you! - SwingPuzzles",
            "success.heading": "Thank you!",
            "success.message": "Check your inbox to confirm your subscription. We'll send you your first fact & jigsaw puzzle soon!"
        },
        de: {
            "meta.description": "SwingPuzzles – 1-minütige tägliche Fakten und Puzzle. Erst eine kurze überraschende Info, dann ein kleines Puzzle dazu. Ein schneller Frischekick für deinen Tag.",
            "title.main": "SwingPuzzles – Dein tägliches 1-Minuten-Puzzle",
            "hero.mascotAlt": "SwingPuzzles Maskottchen",
            "hero.heading": "Dein täglicher 1-Minuten-Fakt mit Puzzle",
            "hero.subheading": "Zuerst ein kurzer überraschender Fakt, dann ein kleines Puzzle dazu. Ein schneller mentaler Reset für deinen Tag.",
            "hero.primaryCta": "Hol dir den Fakt & das Puzzle von heute",
            "hero.note": "Kostenlos. Kein Spam. Jederzeit abbestellbar.",
            "form.heading": "Hol dir heute dein erstes Fakt-&-Puzzle-Paket",
            "form.name.label": "Vorname (optional)",
            "form.name.placeholder": "Optional – für eine persönlichere E-Mail",
            "form.email.label": "E-Mail-Adresse *",
            "form.email.placeholder": "du@example.com",
            "form.submitCta": "Schick mir den Fakt & das Puzzle von heute",
            "form.gdprNote": "Nachdem du deine E-Mail bestätigt hast, bekommst du täglich oder wöchentlich Fakten und Puzzle von SwingPuzzles. Du kannst dich jederzeit wieder abmelden.",
            "video.heading": "So funktioniert es – in 30 Sekunden",
            "video.fallback": "Dein Browser unterstützt das Video-Tag nicht.",
            "video.caption": "Ein Beispiel: erst ein spannender Fakt auf dem Bildschirm, dann ein kleines Puzzle dazu.",
            "video.cta": "Hol dir den Fakt & das Puzzle von heute",
            "steps.heading": "So läuft es ab",
            "steps.1.title": "Wir schicken dir einen kurzen, überraschenden Fakt",
            "steps.1.body": "Du bekommst einen frischen Fakt in dein Postfach, der deine Neugier weckt und deinen Tag interessant startet.",
            "steps.2.title": "Du löst ein kleines Puzzle passend zum Fakt",
            "steps.2.body": "Ein schnelles Puzzle, das direkt an den Fakt anknüpft – so bleibt er besser im Kopf und macht mehr Spaß.",
            "steps.3.title": "Du gönnst dir einen 1-Minuten-Mental-Reset",
            "steps.3.body": "Du schaltest kurz von Stress auf Spielmodus um – mit einer kurzen Gehirnpause, nach der du dich frischer fühlst.",
            "benefits.heading": "Warum es den Leuten gefällt",
            "benefits.1.title": "Dauert ungefähr eine Minute am Tag",
            "benefits.1.body": "Eine kleine tägliche Gewohnheit, die perfekt in deine Morgenroutine oder Kaffeepause passt.",
            "benefits.2.title": "Hilft dir, vom Stress in den Spielmodus zu wechseln",
            "benefits.2.body": "Ein sanfter mentaler Wechsel, der dich kurz aus dem Grübeln holt und zu etwas Spielerischem bringt.",
            "benefits.3.title": "Familienfreundlich und bildschirmfreundlich",
            "benefits.3.body": "Positive, unbedenkliche Inhalte, die allen Spaß machen. Geeignet für alle Altersgruppen.",
            "finalCta.heading": "Bereit für deine nächste 1-Minuten-Pause?",
            "finalCta.primaryCta": "Hol dir den Fakt & das Puzzle von heute",
            "footer.brand": "SwingPuzzles",
            "footer.tagline": "Tägliche Fakten und Puzzle für alle",
            "footer.privacy": "Datenschutzerklärung",
            "footer.contact": "Kontakt",
            "footer.copyright": "© SwingPuzzles",
            "success.meta.description": "Vielen Dank für deine Anmeldung bei SwingPuzzles!",
            "success.title": "Vielen Dank! - SwingPuzzles",
            "success.heading": "Vielen Dank!",
            "success.message": "Bitte prüfe dein Postfach, um deine Anmeldung zu bestätigen. Wir schicken dir bald dein erstes Fakt & Puzzle!"
        },
        es: {
            "meta.description": "SwingPuzzles: un dato curioso y un rompecabezas diario de 1 minuto. Primero un dato sorprendente y después un pequeño rompecabezas para resolver. Un respiro rápido para tu día.",
            "title.main": "SwingPuzzles - Tu rompecabezas diario de 1 minuto",
            "hero.mascotAlt": "Mascota de SwingPuzzles",
            "hero.heading": "Tu dato y rompecabezas diario de 1 minuto",
            "hero.subheading": "Primero un dato corto y sorprendente, luego un pequeño rompecabezas relacionado. Un reinicio mental rápido para tu día.",
            "hero.primaryCta": "Quiero el dato y el rompecabezas de hoy",
            "hero.note": "Gratis. Sin spam. Puedes darte de baja cuando quieras.",
            "form.heading": "Recibe hoy tu primer dato con rompecabezas",
            "form.name.label": "Nombre (opcional)",
            "form.name.placeholder": "Opcional, para un correo un poco más personal",
            "form.email.label": "Correo electrónico *",
            "form.email.placeholder": "tu@ejemplo.com",
            "form.submitCta": "Envíame el dato y el rompecabezas de hoy",
            "form.gdprNote": "Cuando confirmes tu correo, empezarás a recibir correos diarios o semanales con datos y rompecabezas de SwingPuzzles. Puedes darte de baja en cualquier momento.",
            "video.heading": "Míralo en 30 segundos",
            "video.fallback": "Tu navegador no es compatible con el elemento de vídeo.",
            "video.caption": "Un ejemplo: primero un dato curioso en pantalla y después un pequeño rompecabezas para resolver.",
            "video.cta": "Quiero el dato y el rompecabezas de hoy",
            "steps.heading": "Cómo funciona",
            "steps.1.title": "Te enviamos un dato corto y sorprendente",
            "steps.1.body": "Recibes en tu bandeja un dato nuevo que despierta tu curiosidad y hace tu día un poco más interesante.",
            "steps.2.title": "Resuelves un pequeño rompecabezas sobre ese dato",
            "steps.2.body": "Un rompecabezas rápido conectado con lo que acabas de leer, para que el dato se te quede mejor y sea más divertido.",
            "steps.3.title": "Tienes un reset mental de 1 minuto",
            "steps.3.body": "Cambias durante un momento del modo estrés al modo juego, con una pausa corta que te deja más despejado.",
            "benefits.heading": "Por qué le gusta a la gente",
            "benefits.1.title": "Solo tarda alrededor de un minuto al día",
            "benefits.1.body": "Un pequeño hábito diario que encaja perfecto en tu mañana o en la pausa del café.",
            "benefits.2.title": "Te ayuda a salir del estrés y pasar al juego",
            "benefits.2.body": "Un cambio mental suave que te saca un momento de las preocupaciones y te lleva a algo ligero y entretenido.",
            "benefits.3.title": "Apto para toda la familia y para pantallas",
            "benefits.3.body": "Contenido positivo y seguro que cualquiera puede disfrutar sin preocuparse. Ideal para todas las edades.",
            "finalCta.heading": "¿Listo para tu próximo descanso de 1 minuto?",
            "finalCta.primaryCta": "Quiero el dato y el rompecabezas de hoy",
            "footer.brand": "SwingPuzzles",
            "footer.tagline": "Datos y rompecabezas diarios para todo el mundo",
            "footer.privacy": "Política de privacidad",
            "footer.contact": "Contacto",
            "footer.copyright": "© SwingPuzzles",
            "success.meta.description": "¡Gracias por suscribirte a SwingPuzzles!",
            "success.title": "¡Gracias! - SwingPuzzles",
            "success.heading": "¡Gracias!",
            "success.message": "Revisa tu bandeja de entrada para confirmar tu suscripción. ¡Te enviaremos tu primer dato y rompecabezas pronto!"
        },
        fr: {
            "meta.description": "SwingPuzzles – un fait surprenant et un puzzle d’une minute par jour. D’abord un petit fait étonnant, puis un mini puzzle à assembler. Une bouffée d’air rapide pour ta journée.",
            "title.main": "SwingPuzzles – Ton puzzle quotidien d’une minute",
            "hero.mascotAlt": "Mascotte SwingPuzzles",
            "hero.heading": "Ton fait du jour avec un puzzle d’une minute",
            "hero.subheading": "D’abord un fait court et étonnant, puis un petit puzzle lié. Un reset mental rapide pour ta journée.",
            "hero.primaryCta": "Recevoir le fait et le puzzle d’aujourd’hui",
            "hero.note": "Gratuit. Pas de spam. Désinscription à tout moment.",
            "form.heading": "Reçois aujourd’hui ton premier fait + puzzle",
            "form.name.label": "Prénom (optionnel)",
            "form.name.placeholder": "Optionnel – pour un e-mail un peu plus personnel",
            "form.email.label": "Adresse e-mail *",
            "form.email.placeholder": "toi@exemple.com",
            "form.submitCta": "Envoie-moi le fait et le puzzle d’aujourd’hui",
            "form.gdprNote": "Après avoir confirmé ton e-mail, tu recevras chaque jour ou chaque semaine des faits et des puzzles de SwingPuzzles. Tu peux te désinscrire quand tu veux.",
            "video.heading": "Vois comment ça marche en 30 secondes",
            "video.fallback": "Ton navigateur ne prend pas en charge la balise vidéo.",
            "video.caption": "Exemple : d’abord un fait amusant à l’écran, puis un petit puzzle à assembler.",
            "video.cta": "Recevoir le fait et le puzzle d’aujourd’hui",
            "steps.heading": "Comment ça marche",
            "steps.1.title": "On t’envoie un petit fait surprenant",
            "steps.1.body": "Tu reçois dans ta boîte mail un fait nouveau qui éveille ta curiosité et rend ta journée plus intéressante.",
            "steps.2.title": "Tu assembles un mini puzzle lié au fait",
            "steps.2.body": "Un puzzle rapide, directement lié au fait que tu viens de découvrir, pour le retenir plus facilement tout en t’amusant.",
            "steps.3.title": "Tu t’offres un reset mental d’une minute",
            "steps.3.body": "Tu passes brièvement du mode stress au mode jeu, avec une courte pause qui te laisse plus détendu.",
            "benefits.heading": "Pourquoi les gens aiment",
            "benefits.1.title": "Prend environ une minute par jour",
            "benefits.1.body": "Une petite habitude quotidienne qui s’intègre parfaitement à ta matinée ou à ta pause café.",
            "benefits.2.title": "T’aide à passer du stress au jeu",
            "benefits.2.body": "Une transition mentale douce qui t’éloigne un instant des soucis pour te tourner vers quelque chose de ludique.",
            "benefits.3.title": "Adapté à la famille et aux écrans",
            "benefits.3.body": "Du contenu positif et sûr que tout le monde peut apprécier sans crainte. Parfait pour tous les âges.",
            "finalCta.heading": "Prêt pour ta prochaine pause d’une minute ?",
            "finalCta.primaryCta": "Recevoir le fait et le puzzle d’aujourd’hui",
            "footer.brand": "SwingPuzzles",
            "footer.tagline": "Des faits et des puzzles pour tout le monde, chaque jour",
            "footer.privacy": "Politique de confidentialité",
            "footer.contact": "Contact",
            "footer.copyright": "© SwingPuzzles",
            "success.meta.description": "Merci de t'être abonné à SwingPuzzles !",
            "success.title": "Merci ! - SwingPuzzles",
            "success.heading": "Merci !",
            "success.message": "Vérifie ta boîte mail pour confirmer ton abonnement. On t'enverra bientôt ton premier fait et puzzle !"
        },
        it: {
            "meta.description": "SwingPuzzles – un fatto curioso e un puzzle da 1 minuto al giorno. Prima un fatto sorprendente, poi un piccolo puzzle da comporre. Una ricarica veloce per la tua giornata.",
            "title.main": "SwingPuzzles – Il tuo puzzle quotidiano da 1 minuto",
            "hero.mascotAlt": "Mascotte di SwingPuzzles",
            "hero.heading": "Il tuo fatto e puzzle quotidiano da 1 minuto",
            "hero.subheading": "Prima un fatto breve e sorprendente, poi un piccolo puzzle collegato. Un rapido reset mentale per la tua giornata.",
            "hero.primaryCta": "Voglio il fatto e il puzzle di oggi",
            "hero.note": "Gratis. Niente spam. Puoi annullare l’iscrizione quando vuoi.",
            "form.heading": "Ricevi oggi il tuo primo fatto + puzzle",
            "form.name.label": "Nome (opzionale)",
            "form.name.placeholder": "Opzionale, per un’e-mail un po’ più personale",
            "form.email.label": "Indirizzo e-mail *",
            "form.email.placeholder": "tu@example.com",
            "form.submitCta": "Mandami il fatto e il puzzle di oggi",
            "form.gdprNote": "Dopo aver confermato la tua e-mail, riceverai e-mail quotidiane o settimanali con fatti e puzzle da SwingPuzzles. Puoi annullare l’iscrizione in qualsiasi momento.",
            "video.heading": "Guarda come funziona in 30 secondi",
            "video.fallback": "Il tuo browser non supporta il tag video.",
            "video.caption": "Un esempio: prima un fatto curioso sullo schermo, poi un piccolo puzzle da comporre.",
            "video.cta": "Voglio il fatto e il puzzle di oggi",
            "steps.heading": "Come funziona",
            "steps.1.title": "Ti inviamo un breve fatto sorprendente",
            "steps.1.body": "Ricevi nella tua casella di posta un fatto nuovo che accende la curiosità e rende la giornata più interessante.",
            "steps.2.title": "Risolvi un piccolo puzzle collegato al fatto",
            "steps.2.body": "Un puzzle veloce collegato a ciò che hai appena letto, così il fatto ti resta più impresso ed è più divertente.",
            "steps.3.title": "Ti prendi un reset mentale da 1 minuto",
            "steps.3.body": "Per un attimo passi dalla modalità stress alla modalità gioco, con una breve pausa mentale che ti lascia più fresco.",
            "benefits.heading": "Perché piace alle persone",
            "benefits.1.title": "Richiede circa un minuto al giorno",
            "benefits.1.body": "Una piccola abitudine quotidiana che si inserisce perfettamente nella tua routine del mattino o nella pausa caffè.",
            "benefits.2.title": "Ti aiuta a staccare dallo stress e a giocare",
            "benefits.2.body": "Un cambio di marcia mentale delicato che ti fa uscire per un momento dalle preoccupazioni e ti porta verso qualcosa di leggero.",
            "benefits.3.title": "Adatto alla famiglia e agli schermi",
            "benefits.3.body": "Contenuti positivi e sicuri che chiunque può apprezzare senza pensieri. Ideale per tutte le età.",
            "finalCta.heading": "Pronto per la tua prossima pausa da 1 minuto?",
            "finalCta.primaryCta": "Voglio il fatto e il puzzle di oggi",
            "footer.brand": "SwingPuzzles",
            "footer.tagline": "Fatti e puzzle quotidiani per tutti",
            "footer.privacy": "Informativa sulla privacy",
            "footer.contact": "Contatti",
            "footer.copyright": "© SwingPuzzles",
            "success.meta.description": "Grazie per esserti iscritto a SwingPuzzles!",
            "success.title": "Grazie! - SwingPuzzles",
            "success.heading": "Grazie!",
            "success.message": "Controlla la tua casella di posta per confermare l'iscrizione. Ti invieremo presto il tuo primo fatto e puzzle!"
        },
        cs: {
            "meta.description": "SwingPuzzles – minutové denní zajímavosti a puzzle. Nejdřív krátký překvapivý fakt, potom drobné puzzle k vyřešení. Rychlý mentální refresh pro tvůj den.",
            "title.main": "SwingPuzzles – Tvoje minutové puzzle na každý den",
            "hero.mascotAlt": "Maskot SwingPuzzles",
            "hero.heading": "Tvůj denní minutový fakt s puzzle",
            "hero.subheading": "Nejdřív krátký překvapivý fakt, potom malé puzzle k němu. Rychlý mentální reset pro tvůj den.",
            "hero.primaryCta": "Chci dnešní fakt a puzzle",
            "hero.note": "Zdarma. Bez spamu. Odhlášení kdykoliv.",
            "form.heading": "Dnes dostaneš svůj první fakt s puzzle",
            "form.name.label": "Křestní jméno (volitelné)",
            "form.name.placeholder": "Volitelné – pro osobnější oslovení v e-mailu",
            "form.email.label": "E-mailová adresa *",
            "form.email.placeholder": "ty@example.com",
            "form.submitCta": "Pošli mi dnešní fakt a puzzle",
            "form.gdprNote": "Po potvrzení e-mailu ti začnou chodit denní nebo týdenní e-maily s fakty a puzzle od SwingPuzzles. Odhlásit se můžeš kdykoliv.",
            "video.heading": "Podívej se, jak to funguje – za 30 sekund",
            "video.fallback": "Tvůj prohlížeč nepodporuje značku video.",
            "video.caption": "Ukázka: nejdřív zábavný fakt na obrazovce, potom malé puzzle k němu.",
            "video.cta": "Chci dnešní fakt a puzzle",
            "steps.heading": "Jak to funguje",
            "steps.1.title": "Pošleme ti krátký překvapivý fakt",
            "steps.1.body": "Do schránky ti přijde nový fakt, který probudí zvědavost a zpestří ti den.",
            "steps.2.title": "Vyřešíš malé puzzle navázané na fakt",
            "steps.2.body": "Rychlé puzzle, které souvisí s tím, co ses právě dozvěděl – díky tomu si fakt lépe zapamatuješ a víc si ho užiješ.",
            "steps.3.title": "Dáš si jednominutový mentální reset",
            "steps.3.body": "Na chvíli přepneš z režimu stres do režimu hry – krátká mozková pauza, po které se cítíš svěžejší.",
            "benefits.heading": "Proč to lidi baví",
            "benefits.1.title": "Zabere to asi minutu denně",
            "benefits.1.body": "Drobný každodenní návyk, který se vejde do ranní rutiny nebo pauzy na kávu.",
            "benefits.2.title": "Pomůže ti přepnout hlavu od stresu ke hře",
            "benefits.2.body": "Jemný mentální přechod, který tě na chvíli vytáhne z hlavy plné starostí k něčemu hravému.",
            "benefits.3.title": "Vhodné pro rodinu i obrazovky",
            "benefits.3.body": "Pozitivní a bezpečný obsah, který si může bez obav užít kdokoliv. Skvělé pro všechny věkové skupiny.",
            "finalCta.heading": "Připravený na další minutovou pauzu?",
            "finalCta.primaryCta": "Chci dnešní fakt a puzzle",
            "footer.brand": "SwingPuzzles",
            "footer.tagline": "Denní fakta a puzzle pro každého",
            "footer.privacy": "Zásady ochrany osobních údajů",
            "footer.contact": "Kontakt",
            "footer.copyright": "© SwingPuzzles",
            "success.meta.description": "Děkujeme za přihlášení k SwingPuzzles!",
            "success.title": "Děkujeme! - SwingPuzzles",
            "success.heading": "Děkujeme!",
            "success.message": "Zkontroluj svou schránku a potvrď přihlášení. Brzy ti pošleme tvůj první fakt a puzzle!"
        },
        sk: {
            "meta.description": "SwingPuzzles – minútové denné fakty a hádanky. Najprv krátky prekvapivý fakt, potom drobná úloha na zamyslenie. Rýchly mentálny refresh pre tvoj deň.",
            "title.main": "SwingPuzzles – Tvoja 1‑minútová hádanka na každý deň",
            "hero.mascotAlt": "Maskot SwingPuzzles",
            "hero.heading": "Tvoj denný 1‑minútový fakt s hádankou",
            "hero.subheading": "Najprv krátky prekvapivý fakt, potom malá hádanka k nemu. Rýchly mentálny reset pre tvoj deň.",
            "hero.primaryCta": "Chcem dnešný fakt a hádanku",
            "hero.note": "Zdarma. Bez spamu. Odhlásiť sa môžeš kedykoľvek.",
            "form.heading": "Dnes dostaneš svoj prvý fakt s hádankou",
            "form.name.label": "Meno (voliteľné)",
            "form.name.placeholder": "Voliteľné – pre osobnejší e‑mail",
            "form.email.label": "E‑mailová adresa *",
            "form.email.placeholder": "ty@example.com",
            "form.submitCta": "Pošli mi dnešný fakt a hádanku",
            "form.gdprNote": "Po potvrdení e‑mailu ti začnú chodiť denné alebo týždenné e‑maily s faktmi a hádankami od SwingPuzzles. Odhlásiť sa môžeš kedykoľvek.",
            "video.heading": "Pozri sa, ako to funguje – za 30 sekúnd",
            "video.fallback": "Tvoj prehliadač nepodporuje značku video.",
            "video.caption": "Príklad: najprv zábavný fakt na obrazovke, potom malá hádanka k nemu.",
            "video.cta": "Chcem dnešný fakt a hádanku",
            "steps.heading": "Ako to funguje",
            "steps.1.title": "Pošleme ti krátky prekvapivý fakt",
            "steps.1.body": "Do schránky ti príde nový fakt, ktorý prebudí tvoju zvedavosť a spríjemní ti deň.",
            "steps.2.title": "Vyriešiš drobnú hádanku nadviazanú na fakt",
            "steps.2.body": "Rýchla úloha, ktorá súvisí s tým, čo si sa práve dozvedel – fakt si tak ľahšie zapamätáš a viac ťa to baví.",
            "steps.3.title": "Dopraješ si 1‑minútový mentálny reset",
            "steps.3.body": "Na chvíľu prepneš z režimu stres do režimu hry – krátka mozgová pauza, po ktorej sa cítiš sviežejšie.",
            "benefits.heading": "Prečo sa to ľuďom páči",
            "benefits.1.title": "Zaberie to asi minútku denne",
            "benefits.1.body": "Malý každodenný návyk, ktorý sa zmestí do rannej rutiny aj do pauzy na kávu.",
            "benefits.2.title": "Pomôže ti vypnúť od stresu a prepnúť na hru",
            "benefits.2.body": "Jemná zmena nastavenia hlavy, ktorá ťa na chvíľu vytiahne zo starostí k niečomu hravému.",
            "benefits.3.title": "Vhodné pre rodinu aj obrazovky",
            "benefits.3.body": "Pozitívny a bezpečný obsah, ktorý si môže bez obáv užiť ktokoľvek. Perfektné pre všetky vekové skupiny.",
            "finalCta.heading": "Pripravený na ďalšiu 1‑minútovú pauzu?",
            "finalCta.primaryCta": "Chcem dnešný fakt a hádanku",
            "footer.brand": "SwingPuzzles",
            "footer.tagline": "Denné fakty a hádanky pre každého",
            "footer.privacy": "Zásady ochrany osobných údajov",
            "footer.contact": "Kontakt",
            "footer.copyright": "© SwingPuzzles",
            "success.meta.description": "Ďakujeme za prihlásenie k SwingPuzzles!",
            "success.title": "Ďakujeme! - SwingPuzzles",
            "success.heading": "Ďakujeme!",
            "success.message": "Skontroluj svoju schránku a potvrď prihlásenie. Čoskoro ti pošleme tvoj prvý fakt a hádanku!"
        }
    };

    const supportedLangs = ["en", "de", "es", "fr", "it", "cs", "sk"];
    const defaultLang = "en";

    function getLangFromUrl() {
        const params = new URLSearchParams(window.location.search);
        const lang = params.get("lang");
        if (lang && supportedLangs.includes(lang.toLowerCase())) {
            return lang.toLowerCase();
        }
        return defaultLang;
    }

    function setLangInUrl(lang) {
        const url = new URL(window.location.href);
        // Preserve all existing parameters
        const existingParams = new URLSearchParams(url.search);
        // Set or update lang parameter
        existingParams.set("lang", lang);
        // Rebuild URL with all parameters preserved
        const newSearch = existingParams.toString();
        if (newSearch) {
            url.search = newSearch;
        } else {
            url.search = "";
        }
        window.history.replaceState({}, "", url.toString());
    }

    function applyTranslations(dict) {
        if (!dict) return;

        // Text nodes
        document.querySelectorAll("[data-i18n]").forEach(el => {
            const key = el.getAttribute("data-i18n");
            if (dict[key]) {
                el.textContent = dict[key];
            }
        });

        // Attribute-based translations (placeholder, alt, etc.)
        document.querySelectorAll("[data-i18n-attr-placeholder]").forEach(el => {
            const key = el.getAttribute("data-i18n-attr-placeholder");
            if (dict[key]) {
                el.setAttribute("placeholder", dict[key]);
            }
        });

        document.querySelectorAll("[data-i18n-attr-alt]").forEach(el => {
            const key = el.getAttribute("data-i18n-attr-alt");
            if (dict[key]) {
                el.setAttribute("alt", dict[key]);
            }
        });

        // Meta tags (e.g., description)
        document.querySelectorAll("[data-i18n-meta]").forEach(el => {
            const key = el.getAttribute("data-i18n-meta");
            if (dict[key]) {
                el.setAttribute("content", dict[key]);
            }
        });

        // Also update the document title if key exists
        const titleEl = document.querySelector("title[data-i18n]");
        if (titleEl) {
            const key = titleEl.getAttribute("data-i18n");
            if (dict[key]) {
                titleEl.textContent = dict[key];
            }
        }
    }

    function markActiveLanguage(lang) {
        document.querySelectorAll("[data-lang-switch]").forEach(link => {
            if (link.getAttribute("data-lang-switch") === lang) {
                link.classList.add("active-lang");
            } else {
                link.classList.remove("active-lang");
            }
        });
    }

    function initLanguage() {
        // Check if we're on success.html - if so, don't modify URL at all
        const isSuccessPage = window.location.pathname.includes('success.html');
        
        const params = new URLSearchParams(window.location.search);
        const urlLang = params.get("lang");
        const lang = getLangFromUrl();
        
        applyTranslations(translations[lang] || translations[defaultLang]);
        markActiveLanguage(lang);

        // Only set lang in URL if it's missing or invalid, and we're NOT on success.html
        // This preserves other URL parameters (like 'provider' on success.html)
        if (!isSuccessPage && (!urlLang || !supportedLangs.includes(urlLang.toLowerCase()))) {
            setLangInUrl(lang);
        }

        // Wire up switcher links to change language without full reload
        document.querySelectorAll("[data-lang-switch]").forEach(link => {
            link.addEventListener("click", function (e) {
                e.preventDefault();
                const newLang = this.getAttribute("data-lang-switch");
                if (!supportedLangs.includes(newLang)) return;
                applyTranslations(translations[newLang] || translations[defaultLang]);
                markActiveLanguage(newLang);
                setLangInUrl(newLang);
            });
        });
    }

    // For success.html, wait a bit to ensure URL parameters are available
    const isSuccessPage = window.location.pathname.includes('success.html');
    
    if (isSuccessPage) {
        // Wait for URL parameters to be available
        setTimeout(() => {
            initLanguage();
        }, 0);
    } else if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", initLanguage);
    } else {
        initLanguage();
    }
})();


